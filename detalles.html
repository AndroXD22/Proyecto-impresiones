<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle de Piso</title>
    <link rel="stylesheet" href="home.css">
    <link rel="icon" href="icono1-removebg-preview.ico">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="branding">
                <img src="logo_mercantil2-removebg-preview.png" alt="logo">
                <h1>Control de Impresiones</h1>
            </div>
            <div class="header-info">
                <div class="date-display">
                    <span id="current-date"></span>
                </div>
                <div class="quick-stats">
                    <span><i class="fas fa-print"></i> Detalles de Piso</span>
                </div>
            </div>
        </div>
    </header>
    
    <script>
        document.getElementById('current-date').textContent = new Date().toLocaleDateString();
    </script>
    
    <nav>
        <div class="container">
            <ul class="nav-menu">
                <li><a href="home.html">inicio</a></li>
                <li><a href="registro_impresiones.html">Registro de Impresiones</a></li>
                <li><a href="registro_irregularidades.html">Irregularidades</a></li>
                <li><a href="#">Archivos</a></li>
                <li><a href="ubicaciones.html" class="active">Ubicaciones</a></li>
            </ul>
        </div>
    </nav>
    
    <main class="container">
        <div class="location-list">
        <div class="list-header">
            <h1>Piso 1</h1>
                <a href="ubicaciones.html" class="back-button">
                    <span>← Volver a Pisos</span>
                </a>
        </div>
        <div class="location-info">
                <span><i class="fas fa-map-marker-alt"></i> Torre Principal, Nivel 1</span>
                <span><i class="fas fa-print"></i> 1 impresora disponible</span>
            </div>
        
        <div class="dashboard">
            <!-- Estadísticas principales -->
            <div class="card stat-card">
                <div class="card-body">
                    <div class="stat-value">248</div>
                    <div class="stat-label">Impresiones este mes</div>
                    <div class="text-success">↑ 8% vs mes anterior</div>
                </div>
            </div>
            
            <div class="card stat-card">
                <div class="card-body">
                    <div class="stat-value">5.8</div>
                    <div class="stat-label">Páginas por impresión</div>
                    <div class="text-danger">↑ 18% vs promedio</div>
                </div>
            </div>
            
            <div class="card stat-card">
                <div class="card-body">
                    <div class="stat-value">B583314</div>
                    <div class="stat-label">Usuario más activo</div>
                    <div class="text-danger">48 páginas hoy</div>
                </div>
            </div>
            
            <div class="card stat-card">
                <div class="card-body">
                    <div class="stat-value">92%</div>
                    <div class="stat-label">Disponibilidad</div>
                    <div class="text-success">↑ 2% vs ayer</div>
                </div>
            </div>
            
            <!-- Gráfico de actividad -->
            <div class="card main-chart">
                <div class="card-header">
                    <h3 class="card-title">Impresiones por día (últimos 7 días)</h3>
                </div>
                <div class="card-body">
                    <canvas id="impressionsChart" width="400" height="200"></canvas>
                </div>
            </div>

              <div class="card irregularities">
                <div class="card-header">
                    <h3 class="card-title">Irregularidades detectadas</h3>
                    <button class="btn btn-primary btn-sm" href="registro_irregularidades.html">Ver todas</button>
                </div>
                <div class="card-body">
                    <div class="alert alert-danger">
                        <div class="alert-icon">!</div>
                        <div>
                            <strong>Usuario B583314</strong> - 3 impresiones con más de 100 páginas
                            <div class="text-muted">Hace 2 horas</div>
                        </div>
                    </div>
                    
                    <div class="alert alert-warning">
                        <div class="alert-icon">!</div>
                        <div>
                            <strong>P33</strong> - 45% sobre el promedio
                            <div class="text-muted">Hace 4 horas</div>
                        </div>
                    </div>
                    
                    <div class="alert alert-danger">
                        <div class="alert-icon">!</div>
                        <div>
                            <strong>Concresa</strong> - Posible mal uso
                            <div class="text-muted">Hoy, 09:15 a.m</div>
                        </div>
                    </div>
                    
                    <div class="alert alert-warning">
                        <div class="alert-icon">!</div>
                        <div>
                            <strong>Día inusual</strong> - Lunes con 25% menos impresiones
                            <div class="text-muted">Ayer, 5:30 p.m</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Impresoras disponibles -->
            <div class="card printer-list">
                <div class="card-header">
                    <h3 class="card-title">Impresoras disponibles</h3>
                    <button class="btn btn-primary btn-sm">Ver todas</button>
                </div>
                <div class="card-body">
                    <table>
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Modelo</th>
                                <th>Estado</th>
                                <th>Último mantenimiento</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>HRP31L1</td>
                                <td>HP LaserJet Pro M404n</td>
                                <td><span class="badge">Operativa</span></td>
                                <td>15/05/2023</td>
                                <td><a href="#" class="text-link">Detalles</a></td>
                            </tr>
                            <tr>
                                <td>HRP31L2</td>
                                <td>HP Color LaserJet Pro MFP M479fdw</td>
                                <td><span class="badge badge-warning">Bajo tóner</span></td>
                                <td>22/04/2023</td>
                                <td><a href="#" class="text-link">Detalles</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Actividad reciente -->
            <div class="card recent-activity">
                <div class="card-header">
                    <h3 class="card-title">Actividad</h3>
                    <a href="actividad.html" class="btn btn-primary btn-sm">Ver toda la actividad</a>
                </div>
                <div class="card-body">
                    <table>
                        <thead>
                            <tr>
                                <th>Hora</th>
                                <th>Carnet</th>
                                <th>Páginas</th>
                                <th>Documento</th>
                                <th>Impresora</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>10:15 AM</td>
                                <td>JR125</td>
                                <td class="text-danger">28</td>
                                <td>Reporte_RH.pdf</td>
                                <td>HRP31L1</td>
                            </tr>
                            <tr>
                                <td>10:12 AM</td>
                                <td>MG542</td>
                                <td>2</td>
                                <td>Nómina_abril.pdf</td>
                                <td>HRP31L2</td>
                            </tr>
                            <tr>
                                <td>10:05 AM</td>
                                <td>AB321</td>
                                <td class="text-danger">16</td>
                                <td>Evaluaciones.pptx</td>
                                <td>HRP31L1</td>
                            </tr>
                            <tr>
                                <td>09:58 AM</td>
                                <td>TC789</td>
                                <td>12</td>
                                <td>Contratos_nuevos.docx</td>
                                <td>HRP31L2</td>
                            </tr>
                            <tr>
                                <td>09:45 AM</td>
                                <td>JR125</td>
                                <td class="text-danger">12</td>
                                <td>Políticas.pdf</td>
                                <td>HRP31L1</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Actividad de usuarios -->
            <div class="card recent-activity">
                <div class="card-header">
                    <h3 class="card-title">Actividad de usuarios</h3>
                    <button class="btn btn-primary btn-sm" id="exportUserActivity">Ver todas</button>
                </div>
                <div class="card-body">
                    <table>
                        <thead>
                            <tr>
                                <th>Usuario</th>
                                <th>Impresiones hoy</th>
                                <th>Páginas hoy</th>
                                <th>Último documento</th>
                                <th>Hora</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>B583314</td>
                                <td>3</td>
                                <td class="text-danger">48</td>
                                <td>Informe_finanzas.pdf</td>
                                <td>10:20 AM</td>
                            </tr>
                            <tr>
                                <td>B436271</td>
                                <td>2</td>
                                <td>40</td>
                                <td>Reporte_RH.pdf</td>
                                <td>10:15 AM</td>
                            </tr>
                            <tr>
                                <td>B123456</td>
                                <td>1</td>
                                <td>2</td>
                                <td>Nómina_abril.pdf</td>
                                <td>10:12 AM</td>
                            </tr>
                            <tr>
                                <td>B854832</td>
                                <td>1</td>
                                <td>16</td>
                                <td>Evaluaciones.pptx</td>
                                <td>10:05 AM</td>
                            </tr>
                            <tr>
                                <td>B274832</td>
                                <td>1</td>
                                <td>12</td>
                                <td>Contratos_nuevos.docx</td>
                                <td>09:58 AM</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
    </main>
    
    <script>
        // Gráfico para el piso
        const ctx = document.getElementById('impressionsChart').getContext('2d');
        const impressionsChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb', 'Dom'],
                datasets: [{
                    label: 'Impresiones',
                    data: [32, 45, 28, 51, 42, 12, 8],
                    backgroundColor: '#004488',
                    borderColor: '#003366',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>